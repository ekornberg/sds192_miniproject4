---
title: Hey Hollywood, Where are the Women?
author: Vatsala Ramanan, Margaret Bassney, and Emma Kornberg
output:
prettydoc::html_pretty:
theme: flatly
highlight: github
fig_width: 7
df_print: paged
code_folding: hide
---

The date is `r format(Sys.Date(), "%B %e, %Y")`

##What is the Mako Mori Test?
Named after a "Pacific Rim" character, the Mako Mori test proposes an alternative to the Bechdel test. This test focuses not on women conversing with each other, but with the story of at least one woman. The rules of the test are that the movie must have at least one female character, that character must get her own narrative arc, and the arc cannot be about the man's story. While people still argue over whether or not "Pacific Rim" was feminist or not, the test hold a great potential. Think about female characters you've seen in movies recently, how many of them had stories outside being romantically involved with the male lead?

PASSES!!!
<iframe width="679" height="382" src="https://www.youtube.com/embed/SL_YMm9C6tw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

DOES NOT PASS!!! 
<iframe width="679" height="382" src="https://www.youtube.com/embed/_dl2L4v6ecM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

```{r message = FALSE, echo = FALSE, warning = FALSE}
library(tidyverse)
library(RMySQL)
library(here)

db <- dbConnect(MySQL(), 
                host = "scidb.smith.edu", 
                user = "mth292", 
                password = "RememberPi", 
                dbname = "imdb")

knitr::opts_chunk$set(connection = db, max.print = 20)
```

#2000
```{sql connection= db, warning = FALSE, message = FALSE, echo = FALSE}
SELECT t.title, t.production_year, mi.info as rating, mi2.info as language,mi3.info AS movie_rating
FROM title t 
JOIN movie_info mi ON mi.movie_id = t.id
JOIN movie_info mi2 ON mi2.movie_id = t.id
JOIN movie_info_idx AS mi3 ON mi3.movie_id = t.id
WHERE mi.info_type_id IN (67, 97) 
  AND mi.info LIKE '%PG-13%'
  AND kind_id = 1
  AND mi2.info_type_id = 4
  AND mi3.info_type_id = 101
  AND mi2.info = 'English'
  AND production_year = 2000
ORDER BY movie_rating DESC
LIMIT 0,10;
```

#2008
```{sql connection= db, warning = FALSE, message = FALSE, echo = FALSE}
SELECT t.title, t.production_year, mi.info as rating, mi2.info as language,mi3.info AS movie_rating
FROM title t 
JOIN movie_info mi ON mi.movie_id = t.id
JOIN movie_info mi2 ON mi2.movie_id = t.id
JOIN movie_info_idx AS mi3 ON mi3.movie_id = t.id
WHERE mi.info_type_id IN (67, 97) 
  AND mi.info LIKE '%PG-13%'
  AND kind_id = 1
  AND mi2.info_type_id = 4
  AND mi3.info_type_id = 101
  AND mi2.info = 'English'
  AND production_year = 2008
ORDER BY movie_rating DESC
LIMIT 0,10;
```

#2016
```{sql connection= db, warning = FALSE, message = FALSE, echo = FALSE}
SELECT t.title, t.production_year, mi.info as rating, mi2.info as language,mi3.info AS movie_rating, n.gender
FROM title t 
JOIN movie_info mi ON mi.movie_id = t.id
JOIN movie_info mi2 ON mi2.movie_id = t.id
JOIN movie_info_idx AS mi3 ON mi3.movie_id = t.id
JOIN name n ON n.md5sum = t.md5sum
WHERE mi.info_type_id IN (67, 97) 
  AND mi.info LIKE '%PG-13%'
  AND kind_id = 1
  AND mi2.info_type_id = 4
  AND mi3.info_type_id = 101
  AND mi2.info = 'English'
  AND production_year = 2016
ORDER BY movie_rating DESC
LIMIT 0,10;
```

```{r}
ratings <- read_csv(here::here("Movie_test.csv"))
```


```{r warning = FALSE, message = FALSE, echo = FALSE}
library(ggplot2)
```




